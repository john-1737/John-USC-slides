\setbeamertemplate{frametitle}{
  \vspace{0.5em}
  \insertframetitle
  \par
  \vspace{0.5em}
  \hrule
  \vspace{0.3em}
  {\small\color{gray}\insertframesubtitle}
}

\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{itemize item}{\textbullet} % main bullet: filled dot
\setbeamertemplate{itemize subitem}{\normalsize$\circ$} % sub-bullet: empty dot
\setbeamertemplate{itemize subsubitem}{\scriptsize--} % sub-sub-bullet: dash


% Font changes
\usepackage[scaled=0.92]{helvet}
\renewcommand{\familydefault}{\sfdefault}

% Packages
\usepackage{tikz}
\usepackage{booktabs}
\usepackage{xcolor}
\usepackage{array}           % Enhanced column types for tables
\usepackage{multirow}        % Spanning multiple rows in tables
\usepackage{makecell}        % Line breaks and formatting in table cells
\usepackage{siunitx}         % Proper formatting of numbers and units
\usepackage{amsmath}         % Enhanced math environments
\usepackage{amsfonts}        % Additional math fonts
\usepackage{amssymb}         % Additional math symbols
\usepackage{url}             % Better URL formatting
\usepackage{graphicx}        % Enhanced graphics support
\usepackage{tabularray}
\UseTblrLibrary{booktabs, siunitx, varwidth}
% For financial presentations specifically
\usepackage{eurosym}         % Euro symbol
\usepackage{textcomp}        % Additional text symbols
\usepackage{hyperref}        % Hyperlinks (should be loaded last)

% Define a footnote
\renewcommand{\footnoterule}{\vspace*{-3pt}\hrule width 2in height 0.4pt\vspace*{2.6pt}}

% Define a Foundation Slide
\newenvironment{foundframe}[1][t]{
    \setbeamercolor{background canvas}{bg=gray!8}
    \setbeamercolor{frametitle}{fg=gray!80!black,bg=gray!25}
    \setbeamercolor{framesubtitle}{fg=gray!70!black,bg=gray!15}
    \setbeamercolor{item}{fg=gray!80!black}
    \setbeamercolor{enumerate item}{fg=gray!80!black}
    
    % Modify the frametitle template for this frame type
    \setbeamertemplate{frametitle}{
        \vspace{0.5em}
        \begin{minipage}[t]{0.75\textwidth}
            \insertframetitle
            \par
            \vspace{0.5em}
            \hrule
            \vspace{0.3em}
            {\small\color{gray}\insertframesubtitle}
        \end{minipage}%
        \hfill
        \begin{minipage}[t]{0.2\textwidth}
            \raggedleft
            \colorbox{gray!30}{%
                \scriptsize\bfseries\color{gray!80!black}%
                   \hspace{3pt}\begin{tabular}{c}Foundation\\Material\end{tabular}\hspace{3pt}%
            }
        \end{minipage}
        \vspace{0.3em}
    }
    
    \begin{frame}[#1]
}{
    \end{frame}
}

% Define Practice Slide
\newenvironment{practiceframe}[1][t]{
    \setbeamercolor{background canvas}{bg=white}
    \setbeamercolor{frametitle}{fg=blue!80!black,bg=blue!15}
    \setbeamercolor{framesubtitle}{fg=blue!70!black,bg=blue!10}
    \setbeamercolor{item}{fg=blue!80!black}
    \setbeamercolor{enumerate item}{fg=blue!80!black}
    \setbeamercolor{normal text}{fg=blue!90!black}
    
    % Modify the frametitle template for this frame type
    \setbeamertemplate{frametitle}{
        \vspace{0.5em}
        \begin{minipage}[t]{0.75\textwidth}
            \insertframetitle
            \par
            \vspace{0.5em}
            \hrule
            \vspace{0.3em}
            {\small\color{blue!70!black}\insertframesubtitle}
        \end{minipage}%
        \hfill
        \begin{minipage}[t]{0.2\textwidth}
            \raggedleft
            \colorbox{blue!20}{%
                \scriptsize\bfseries\color{blue!80!black}%
                   \hspace{3pt}\begin{tabular}{c}Practice\\Questions\end{tabular}\hspace{3pt}%
            }
        \end{minipage}
        \vspace{0.3em}
    }
    
    \begin{frame}[#1]
}{
    \end{frame}
}

% Define Excel Slide
\newenvironment{excelframe}[1][t]{
    \setbeamercolor{background canvas}{bg=white}
    \setbeamercolor{frametitle}{fg=blue!80!black,bg=blue!15}
    \setbeamercolor{framesubtitle}{fg=blue!70!black,bg=blue!10}
    \setbeamercolor{item}{fg=blue!80!black}
    \setbeamercolor{enumerate item}{fg=blue!80!black}
    \setbeamercolor{normal text}{fg=blue!90!black}
    
    % Modify the frametitle template for this frame type
    \setbeamertemplate{frametitle}{
        \vspace{0.5em}
        \begin{minipage}[t]{0.75\textwidth}
            \insertframetitle
            \par
            \vspace{0.5em}
            \hrule
            \vspace{0.3em}
            {\small\color{blue!70!black}\insertframesubtitle}
        \end{minipage}%
        \hfill
        \begin{minipage}[t]{0.2\textwidth}
            \raggedleft
            \colorbox{green!10}{%
                \scriptsize\bfseries\color{blue!80!black}%
                   \hspace{3pt}\begin{tabular}{c}MS Excel\end{tabular}\hspace{3pt}%
            }
        \end{minipage}
        \vspace{0.3em}
    }
    
    \begin{frame}[#1]
}{
    \end{frame}
}

% Define Caution Slide
\newenvironment{cautionframe}[1][t]{
    \setbeamercolor{background canvas}{bg=white}
    \setbeamercolor{frametitle}{fg=blue!80!black,bg=blue!15}
    \setbeamercolor{framesubtitle}{fg=blue!70!black,bg=blue!10}
    \setbeamercolor{item}{fg=blue!80!black}
    \setbeamercolor{enumerate item}{fg=blue!80!black}
    \setbeamercolor{normal text}{fg=blue!90!black}
    
    % Modify the frametitle template for this frame type
    \setbeamertemplate{frametitle}{
        \vspace{0.5em}
        \begin{minipage}[t]{0.75\textwidth}
            \insertframetitle
            \par
            \vspace{0.5em}
            \hrule
            \vspace{0.3em}
            {\small\color{blue!70!black}\insertframesubtitle}
        \end{minipage}%
        \hfill
        \begin{minipage}[t]{0.2\textwidth}
            \raggedleft
            \colorbox{red!10}{%
                \scriptsize\bfseries\color{blue!80!black}%
                   \hspace{3pt}\begin{tabular}{c}Caution\end{tabular}\hspace{3pt}%
            }
        \end{minipage}
        \vspace{0.3em}
    }
    
    \begin{frame}[#1]
}{
    \end{frame}
}

% Add to footnotes
\makeatletter
\newcommand\blfootnote[1]{%
  \begingroup
  \renewcommand\thefootnote{}%
  \renewcommand\@makefntext[1]{\raggedright\leftskip=0pt ##1}%
  \footnote{\scriptsize #1}%
  \addtocounter{footnote}{-1}%
  \endgroup
}
\makeatother